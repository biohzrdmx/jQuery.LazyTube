/**
 * jQuery.lazyTube
 * On-demand loading for YouTube videos
 * Avoid hanging your client's browsers by loading YouTube videos ONLY when they want to watch them
 * @version  1.0
 * @author   biohzrdmx <github.com/biohzrdmx>
 * @requires jQuery 1.8+
 * @license  MIT
 */
;!function(a){a.fn.lazyTube=function(b){if(!this.length)return this;var c=a.extend(!0,{},a.lazyTube.defaults,b);return this.each(function(){var b=a(this),d=b.data("id")||null,e=b.data("thumbnail")||"mqdefault",f=b.data("autoplay")||"no",g=b.data("autoload")||!1,h=b.data("width")||"320",i=b.data("height")||"240",j=b.data("target")||"self",k=b.children(".preview");0==k.length&&(k=a('<a href="#" class="preview"></a>'),b.prepend(k)),k.append('<img src="//img.youtube.com/vi/'+d+"/"+e+'.jpg" alt="" />'),k.on("click",function(e){switch(j){case"self":var g=c.embedCode,l=null,m="rel=0&wmode=transparent";m+="yes"==f?"&autoplay=1":"",g=g.replace("{width}",h).replace("{height}",i).replace("{id}",d).replace("{flags}",m),l=a(g),k.hide(),b.append(l);break;default:var n=c.targetHandlers[j];"function"==typeof n&&n.call(b,c,{id:d,width:h,height:i,autoplay:f})}e.preventDefault()}),"yes"==g&&a(window).on("load",function(){k.trigger("click")})}),this},a.lazyTube={defaults:{targetHandlers:{},embedCode:'<div class="embed"><iframe width="{width}" height="{height}" src="//www.youtube-nocookie.com/embed/{id}?{flags}" frameborder="0" allowfullscreen></iframe></div>'}}}(jQuery);